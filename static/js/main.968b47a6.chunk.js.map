{"version":3,"sources":["utils/apis.js","utils/index.js","contexts/application.js","contexts/transaction.js","assets/ripple.svg","components/Web3Manager.js","constants/index.js","hooks/ethereum.js","hooks/dao.js","components/Web3Status.js","components/LauchActivityModal.js","components/DonationModal.js","components/Header.js","hooks/activity.js","components/ActivityItem.js","components/ActivityContainer.js","pages/Home.js","connectors/NetworkOnlyConnector.js","connectors/InjectedConnector.js","themes/GlobalStyle.js","themes/index.js","App.js","serviceWorker.js","index.js"],"names":["a","category","fetch","response","json","data","gasPrice","BigNumber","div","times","safeAccess","object","path","reduce","accumulator","currentValue","isAddress","address","web3Utils","amountFormatter","amount","baseDecimals","displayDecimals","Error","isBigNumber","isZero","pow","toFixed","BLOCK_NUMBER","UPDATE_BLOCK_NUMBER","applicationContext","createContext","useApplicationContext","useContext","initialState","reducer","state","type","payload","networkId","blockNumber","Provider","children","useReducer","dispatch","updateBlockNumber","useCallback","value","useMemo","Updater","useWeb3Context","library","useEffect","update","eth","getBlockNumber","then","stale","catch","subscription","subscribe","on","unsubscribe","useBlockNumber","RESPONSE","BLOCK_NUMBER_CHECKED","RECEIPT","ADD","CHECK","FINALIZE","TransactionsContext","useTransactionsContext","hash","receipt","add","check","finalize","globalBlockNumber","allTransactions","Object","keys","filter","forEach","getTransactionReceipt","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","cx","cy","r","fill","stroke","strokeWidth","attributeName","calcMode","values","keyTimes","dur","keySplines","begin","repeatCount","_ref","svgRef","title","props","width","height","viewBox","preserveAspectRatio","className","style","backgroundImage","backgroundPosition","backgroundRepeat","ref","ForwardRef","forwardRef","Center","styled","Connector","Connectors","tryToSetConnector","setConnector","setError","suppressAndThrowErrors","err","Web3Manager","active","error","window","ethereum","web3","isMobile","Web3","getAccounts","accounts","code","errorCodes","UNSUPPORTED_NETWORK","BCD_ADDRESSES","42","DAO_ADDRESSES","DAO_FROM_BLOCK","ACTIVITY_DEMO_ADDRESSES","useContract","abi","withSignerIfPossible","account","from","ethers","constants","AddressZero","Contract","getContract","undefined","useGasPrice","useState","level","setLevel","getPrice","getGasPrice","useDAOContract","DAO_ABI","useDAOIsOpenVote","daoContract","isOpen","setIsOpen","methods","isOpenVote","result","AddressWrapper","theme","navyBlue","hawkesBlue","ConnectButton","button","white","Web3Status","connectorName","accountPoll","setInterval","providers","Web3Provider","listAccounts","clearInterval","removeListener","tryToActivateInjected","digits","substring","shortenAddress","onClick","Title","getModalStyle","top","left","useStyles","makeStyles","paper","position","backgroundColor","palette","background","boxShadow","shadows","padding","display","flexDirection","buttonStyle","marginTop","marginLeft","marginRight","LauchActivityModal","open","handleClose","classes","modalStyle","location","setLocation","description","setDescription","Date","startTime","setStartTime","endTime","setEndTime","lauchActivity","newProposal","estimateGas","estimatedGas","gas","send","useDAOLauchActivity","isConnected","Modal","onClose","utils","DateFnsUtils","disableToolbar","variant","margin","id","label","onChange","date","TextField","textField","event","Button","color","startTimeParsed","parse","endTimeParsed","disabled","DonationModal","setAmount","name","setName","donate","useDAODonate","InputProps","endAdornment","InputAdornment","HeaderWrapper","HeaderLogo","HeaderActions","HeaderButton","Header","openLauchModal","setOpenLauchModal","openDonateModal","setOpenDonateModal","useActivityContract","ACTIVITY_ABI","Activity","Body","Description","Location","StartDateTimeBox","Participants","Count","Voters","IsPassed","LeftBox","RightBox","border","borderRadius","ActivityItem","votes","setVotes","proposalVotes","useDAOProposalVotes","participientAmount","setParticipientAmount","moment","format","vote","proposalId","useDAOVote","handleVote","join","activityContract","useActivityJoin","recipient","handleJoin","reward","getRewards","useActivityReward","handleReward","isPassed","toNumber","isRewarded","TabPanel","index","other","Typography","component","role","hidden","aria-labelledby","Box","p","a11yProps","root","flexGrow","SimpleTabs","setValue","proposals","setProposals","numProposals","Promise","all","Array","map","_","proposal","proposalPassed","useDAOProposals","Tabs","newValue","indicatorColor","textColor","aria-label","centered","Tab","activity","AppWrapper","Container","Row","Widget","shadowColor","WidgetData","WidgetTitle","WidgetSubTitle","TimeWrapper","TimeText","TimeHeadline","Home","BCDBalance","bcdContract","BCD_ABI","balance","setBalance","balanceOf","useBCDBalance","BCDTotalSupply","totalSupply","setTotalSupply","useBCDTotalSupply","totalDonation","setTotalDonation","useDAOTotalDonation","memberAmount","getPastEvents","fromBlock","events","returnValues","donator","arr","useDAOMemberAmount","startVoteTime","setStartVoteTime","useDAOStartVoteTime","leftTime","plus","minus","now","leftDays","Math","floor","leftHours","leftMinutes","leftSeconds","toString","NetworkOnlyConnector","kwargs","providerURL","rest","engine","provider","net","getId","currentProvider","InjectedConnector","args","runOnDeactivation","networkChangedHandler","bind","accountsChangedHandler","isMetaMask","autoRefreshOnNetworkChange","enable","deniedAccessError","ETHEREUM_ACCESS_DENIED","push","console","warn","noWeb3Error","NO_WEB3","unlockRequiredError","UNLOCK_REQUIRED","runner","networkIdNumber","Number","updateNetworkId","updateAccount","ErrorCodeMixin","GlobalStyle","createGlobalStyle","black","ThemeProvider","Network","process","connectors","Injected","supportedNetworks","ContextProviders","Updaters","App","libraryName","web3Api","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.968b47a6.chunk.js","sourcesContent":["import BigNumber from 'bignumber.js'\n\nexport async function getGasPrice(category = 'fast') {\n  const response = await fetch('https://ethgasstation.info/json/ethgasAPI.json')\n  const data = await response.json()\n  const gasPrice = new BigNumber(data[category]).div(10).times(1e9) // convert unit to wei\n  return gasPrice\n}","import * as web3Utils from 'web3-utils'\nimport { ethers } from 'ethers'\nimport BigNumber from 'bignumber.js'\n\nexport { getGasPrice } from './apis'\n\nexport const safeAccess = (object, path) => {\n  return object\n    ? path.reduce(\n        (accumulator, currentValue) =>\n          accumulator && accumulator[currentValue]\n            ? accumulator[currentValue]\n            : null,\n        object,\n      )\n    : null\n}\n\nexport function isAddress(address) {\n  return web3Utils.isAddress(address)\n}\n\nexport function shortenAddress(address, digits = 4) {\n  if (!isAddress(address)) {\n    throw Error(`Invalid 'address' parameter '${address}'.`)\n  }\n  return `${address.substring(0, digits + 2)}...${address.substring(\n    42 - digits,\n  )}`\n}\n\nexport function getContract(address, abi, library, from) {\n  if (!isAddress(address) || address === ethers.constants.AddressZero) {\n    throw Error(`Invalid 'address' parameter '${address}'.`)\n  }\n\n  return new library.eth.Contract(abi, address, { from })\n}\n\nexport function amountFormatter(amount, baseDecimals, displayDecimals = 4) {\n  if (\n    baseDecimals > 18 ||\n    displayDecimals > 18 ||\n    displayDecimals > baseDecimals\n  ) {\n    throw Error(\n      `Invalid combination of baseDecimals '${baseDecimals}' and displayDecimals '${displayDecimals}.`,\n    )\n  }\n\n  if (!amount) {\n    return undefined\n  }\n\n  if (!BigNumber.isBigNumber(amount)) {\n    amount = new BigNumber(amount)\n  }\n\n  if (amount.isZero()) {\n    return '0'\n  }\n\n  return amount\n    .div(new BigNumber(10).pow(new BigNumber(baseDecimals)))\n    .toFixed(displayDecimals)\n}\n\nexport function dateFormatter(timestamp) {\n  return new Date(timestamp).toLocaleString(undefined, { hour12: false })\n}\n","import React, {\n  createContext,\n  useContext,\n  useReducer,\n  useMemo,\n  useCallback,\n  useEffect,\n} from 'react'\nimport { useWeb3Context } from 'web3-react'\nimport { safeAccess } from '../utils'\n\nconst BLOCK_NUMBER = 'BLOCK_NUMBER'\nconst UPDATE_BLOCK_NUMBER = 'UPDATE_BLOCK_NUMBER'\n\nconst applicationContext = createContext()\n\nfunction useApplicationContext() {\n  return useContext(applicationContext)\n}\n\nconst initialState = {\n  [BLOCK_NUMBER]: {},\n}\n\nfunction reducer(state, { type, payload }) {\n  switch (type) {\n    case UPDATE_BLOCK_NUMBER: {\n      const { networkId, blockNumber } = payload\n      return {\n        ...state,\n        [BLOCK_NUMBER]: {\n          ...(safeAccess(state, [BLOCK_NUMBER]) || {}),\n          [networkId]: blockNumber,\n        },\n      }\n    }\n    default: {\n      throw new Error(\n        `Unexpected action type in ApplicationContext reducer: '${type}'.`,\n      )\n    }\n  }\n}\n\nexport default function Provider({ children }) {\n  const [state, dispatch] = useReducer(reducer, initialState)\n\n  const updateBlockNumber = useCallback((networkId, blockNumber) => {\n    dispatch({ type: UPDATE_BLOCK_NUMBER, payload: { networkId, blockNumber } })\n  }, [])\n\n  const value = useMemo(() => [state, { updateBlockNumber }], [\n    state,\n    updateBlockNumber,\n  ])\n\n  return (\n    <applicationContext.Provider value={value}>\n      {children}\n    </applicationContext.Provider>\n  )\n}\n\nexport function Updater() {\n  const { networkId, library } = useWeb3Context()\n  const [, { updateBlockNumber }] = useApplicationContext()\n\n  useEffect(() => {\n    if (library) {\n      let stale = false\n      function update() {\n        library.eth\n          .getBlockNumber()\n          .then(blockNumber => {\n            if (!stale) {\n              updateBlockNumber(networkId, blockNumber)\n            }\n          })\n          .catch(() => {\n            if (!stale) {\n              updateBlockNumber(networkId, null)\n            }\n          })\n      }\n\n      update()\n      const subscription = library.eth.subscribe('newBlockHeaders')\n      subscription.on('data', update)\n\n      return () => {\n        stale = true\n        subscription.unsubscribe()\n      }\n    }\n  }, [networkId, library, updateBlockNumber])\n\n  return null\n}\n\nexport function useBlockNumber() {\n  const { networkId } = useWeb3Context()\n\n  const [state] = useApplicationContext()\n\n  return safeAccess(state, [BLOCK_NUMBER, networkId])\n}\n","import React, {\n  createContext,\n  useContext,\n  useReducer,\n  useMemo,\n  useCallback,\n  useEffect,\n} from 'react'\nimport { useWeb3Context } from 'web3-react'\nimport { safeAccess } from '../utils'\nimport { useBlockNumber } from './application'\n\nconst RESPONSE = 'response'\nconst CUSTOM_DATA = 'CUSTOM_DATA'\nconst BLOCK_NUMBER_CHECKED = 'BLOCK_NUMBER_CHECKED'\nconst RECEIPT = 'receipt'\n\nconst ADD = 'ADD'\nconst CHECK = 'CHECK'\nconst FINALIZE = 'FINALIZE'\n\nconst TransactionsContext = createContext()\n\nexport function useTransactionsContext() {\n  return useContext(TransactionsContext)\n}\n\nfunction reducer(state, { type, payload }) {\n  switch (type) {\n    case ADD: {\n      const { networkId, hash, response } = payload\n\n      if (safeAccess(state, [networkId, hash]) !== null) {\n        throw Error('Attempted to add existing transaction.')\n      }\n\n      return {\n        ...state,\n        [networkId]: {\n          ...(safeAccess(state, [networkId]) || {}),\n          [hash]: {\n            [RESPONSE]: response,\n          },\n        },\n      }\n    }\n    case CHECK: {\n      const { networkId, hash, blockNumber } = payload\n\n      if (safeAccess(state, [networkId, hash]) === null) {\n        throw Error('Attempted to check non-existent transaction.')\n      }\n\n      return {\n        ...state,\n        [networkId]: {\n          ...(safeAccess(state, [networkId]) || {}),\n          [hash]: {\n            ...(safeAccess(state, [networkId, hash]) || {}),\n            [BLOCK_NUMBER_CHECKED]: blockNumber,\n          },\n        },\n      }\n    }\n    case FINALIZE: {\n      const { networkId, hash, receipt } = payload\n\n      if (safeAccess(state, [networkId, hash]) === null) {\n        throw Error('Attempted to finalize non-existent transaction.')\n      }\n\n      return {\n        ...state,\n        [networkId]: {\n          ...(safeAccess(state, [networkId]) || {}),\n          [hash]: {\n            ...(safeAccess(state, [networkId, hash]) || {}),\n            [RECEIPT]: receipt,\n          },\n        },\n      }\n    }\n    default: {\n      throw Error(\n        `Unexpected action type in TransactionsContext reducer: '${type}'.`,\n      )\n    }\n  }\n}\n\nexport default function Provider({ children }) {\n  const [state, dispatch] = useReducer(reducer, {})\n\n  const add = useCallback((networkId, hash, response) => {\n    dispatch({ type: ADD, payload: { networkId, hash, response } })\n  }, [])\n  const check = useCallback((networkId, hash, blockNumber) => {\n    dispatch({ type: CHECK, payload: { networkId, hash, blockNumber } })\n  }, [])\n  const finalize = useCallback((networkId, hash, receipt) => {\n    dispatch({ type: FINALIZE, payload: { networkId, hash, receipt } })\n  }, [])\n\n  const value = useMemo(() => [state, { add, check, finalize }], [\n    state,\n    add,\n    check,\n    finalize,\n  ])\n\n  return (\n    <TransactionsContext.Provider value={value}>\n      {children}\n    </TransactionsContext.Provider>\n  )\n}\n\nexport function Updater() {\n  const { networkId, library } = useWeb3Context()\n\n  const globalBlockNumber = useBlockNumber()\n\n  const [state, { check, finalize }] = useTransactionsContext()\n  const allTransactions = safeAccess(state, [networkId]) || {}\n\n  useEffect(() => {\n    if ((networkId || networkId === 0) && library) {\n      let stale = false\n      Object.keys(allTransactions)\n        .filter(\n          hash =>\n            !allTransactions[hash][RECEIPT] &&\n            allTransactions[hash][BLOCK_NUMBER_CHECKED] !== globalBlockNumber,\n        )\n        .forEach(hash => {\n          library.eth\n            .getTransactionReceipt(hash)\n            .then(receipt => {\n              if (!stale) {\n                if (!receipt) {\n                  check(networkId, hash, globalBlockNumber)\n                } else {\n                  finalize(networkId, hash, receipt)\n                }\n              }\n            })\n            .catch(() => {\n              check(networkId, hash, globalBlockNumber)\n            })\n        })\n\n      return () => {\n        stale = true\n      }\n    }\n  }, [networkId, library, allTransactions, globalBlockNumber, check, finalize])\n\n  return null\n}\n\nexport function useTransactionAdder() {\n  const { networkId } = useWeb3Context()\n\n  const [, { add }] = useTransactionsContext()\n\n  return useCallback(\n    (response, customData = {}) => {\n      if (!(networkId || networkId === 0)) {\n        throw Error(`Invalid networkId '${networkId}`)\n      }\n\n      const hash = safeAccess(response, ['hash'])\n\n      if (!hash) {\n        throw Error('No transaction hash found.')\n      }\n      add(networkId, hash, { ...response, [CUSTOM_DATA]: customData })\n    },\n    [networkId, add],\n  )\n}\n\nexport function useAllTransactions() {\n  const { networkId } = useWeb3Context()\n\n  const [state] = useTransactionsContext()\n\n  return safeAccess(state, [networkId]) || {}\n}\n\nexport function usePendingApproval(tokenAddress) {\n  const allTransactions = useAllTransactions()\n\n  return (\n    Object.keys(allTransactions).filter(hash => {\n      if (allTransactions[hash][RECEIPT]) {\n        return false\n      } else if (!allTransactions[hash][RESPONSE]) {\n        return false\n      } else if (\n        allTransactions[hash][RESPONSE][CUSTOM_DATA].approval !== tokenAddress\n      ) {\n        return false\n      } else {\n        return true\n      }\n    }).length >= 1\n  )\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"circle\", {\n  cx: 50,\n  cy: 50,\n  r: 0,\n  fill: \"none\",\n  \"ng-attr-stroke\": \"{{config.c1}}\",\n  \"ng-attr-stroke-width\": \"{{config.width}}\",\n  stroke: \"#377ce9\",\n  strokeWidth: 2\n}, React.createElement(\"animate\", {\n  attributeName: \"r\",\n  calcMode: \"spline\",\n  values: \"0;40\",\n  keyTimes: \"0;1\",\n  dur: 1,\n  keySplines: \"0 0.2 0.8 1\",\n  begin: \"-0.5s\",\n  repeatCount: \"indefinite\"\n}), React.createElement(\"animate\", {\n  attributeName: \"opacity\",\n  calcMode: \"spline\",\n  values: \"1;0\",\n  keyTimes: \"0;1\",\n  dur: 1,\n  keySplines: \"0.2 0 0.8 1\",\n  begin: \"-0.5s\",\n  repeatCount: \"indefinite\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"circle\", {\n  cx: 50,\n  cy: 50,\n  r: 0,\n  fill: \"none\",\n  \"ng-attr-stroke\": \"{{config.c2}}\",\n  \"ng-attr-stroke-width\": \"{{config.width}}\",\n  stroke: \"#5b9ee1\",\n  strokeWidth: 2\n}, React.createElement(\"animate\", {\n  attributeName: \"r\",\n  calcMode: \"spline\",\n  values: \"0;40\",\n  keyTimes: \"0;1\",\n  dur: 1,\n  keySplines: \"0 0.2 0.8 1\",\n  begin: \"0s\",\n  repeatCount: \"indefinite\"\n}), React.createElement(\"animate\", {\n  attributeName: \"opacity\",\n  calcMode: \"spline\",\n  values: \"1;0\",\n  keyTimes: \"0;1\",\n  dur: 1,\n  keySplines: \"0.2 0 0.8 1\",\n  begin: \"0s\",\n  repeatCount: \"indefinite\"\n}));\n\nvar SvgRipple = function SvgRipple(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: \"200px\",\n    height: \"200px\",\n    viewBox: \"0 0 100 100\",\n    preserveAspectRatio: \"xMidYMid\",\n    className: \"lds-ripple\",\n    style: {\n      backgroundImage: \"none\",\n      backgroundPosition: \"initial initial\",\n      backgroundRepeat: \"initial initial\"\n    },\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgRipple, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/ripple.aaedba43.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect } from 'react'\nimport { isMobile } from 'react-device-detect'\nimport { useWeb3Context, Connectors } from 'web3-react'\nimport Web3 from 'web3'\nimport styled from 'styled-components'\nimport { ReactComponent as Loading } from '../assets/ripple.svg'\n\nconst Center = styled.div`\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n\nconst { Connector } = Connectors\n\nfunction tryToSetConnector(setConnector, setError) {\n  setConnector('Injected', { suppressAndThrowErrors: true }).catch(() => {\n    setConnector('Network', { suppressAndThrowErrors: true }).catch(err => {\n      setError(err)\n    })\n  })\n}\n\nexport default function Web3Manager({ children }) {\n  const { active, error, setConnector, setError } = useWeb3Context()\n\n  useEffect(() => {\n    if (!active && !error) {\n      if (window.ethereum || window.web3) {\n        if (isMobile) {\n          tryToSetConnector(setConnector, setError)\n        } else {\n          const web3 = new Web3(window.ethereum)\n          web3.eth.getAccounts(accounts => {\n            if (accounts.length > 0) {\n              tryToSetConnector(setConnector, setError)\n            } else {\n              setConnector('Network', { suppressAndThrowErrors: true }).catch(\n                err => {\n                  setError(err)\n                },\n              )\n            }\n          })\n        }\n      } else {\n        setConnector('Network', { suppressAndThrowErrors: true }).catch(err => {\n          setError(err)\n        })\n      }\n    }\n  }, [active, error, setConnector, setError])\n\n  useEffect(() => {\n    if (error) {\n      if (error.code === Connector.errorCodes.UNSUPPORTED_NETWORK) {\n        setConnector('Network', { suppressAndThrowErrors: true }).catch(err => {\n          setError(err)\n        })\n      }\n    }\n  })\n\n  if (!active && !error) {\n    return (\n      <Center>\n        <Loading />\n      </Center>\n    )\n  } else if (error) {\n    return <div>Unknown Error</div>\n  } else {\n    return children\n  }\n}\n","export const BCD_ADDRESSES = {\n  42: '0x741c35007D0FA103049307dd8BbCf4B066F916Ae'\n}\n\nexport const DAO_ADDRESSES = {\n  42: '0x8CB844c5B338321169373A74472aA087ef18BEaA'\n}\n\nexport const DAO_FROM_BLOCK = '14237834'\n\nexport const ACTIVITY_DEMO_ADDRESSES = {\n  42: '0x1f4a2bd50a184d4fa53d9e051495ebe5d36df7f4'\n}\n","import { useMemo, useEffect, useState, useCallback } from 'react'\nimport { useWeb3Context } from 'web3-react'\nimport BigNumber from 'bignumber.js'\nimport { useBlockNumber } from '../contexts/application'\nimport { getContract, getGasPrice } from '../utils'\nimport { BCD_ADDRESSES } from '../constants'\nimport BCD_ABI from '../constants/abis/token.json'\n\nexport function useContract(address, abi, withSignerIfPossible = true) {\n  const { account, library } = useWeb3Context()\n\n  return useMemo(() => {\n    try {\n      return getContract(\n        address,\n        abi,\n        library,\n        withSignerIfPossible ? account : undefined,\n      )\n    } catch {\n      return null\n    }\n  }, [address, abi, library, account, withSignerIfPossible])\n}\n\nexport function useGasPrice() {\n  const [level, setLevel] = useState('fast')\n  const getPrice = useCallback(() => getGasPrice(level), [level])\n\n  return { getPrice, setLevel }\n}\n\nexport function useETHBalance() {\n  const { account, library } = useWeb3Context()\n  const blockNumber = useBlockNumber()\n  const [balance, setBalance] = useState()\n\n  useEffect(() => {\n    library.eth\n      .getBalance(account)\n      .then(result => {\n        setBalance(new BigNumber(result))\n      })\n      .catch(() => {\n        setBalance()\n      })\n  }, [account, library, blockNumber])\n\n  return balance\n}\n\nexport function useBCDBalance() {\n  const { account, networkId } = useWeb3Context()\n  const blockNumber = useBlockNumber()\n  const bcdContract = useContract(BCD_ADDRESSES[networkId], BCD_ABI)\n  const [balance, setBalance] = useState()\n\n  useEffect(() => {\n    bcdContract.methods.balanceOf(account).call()\n      .then(result => {\n        setBalance(new BigNumber(result))\n      })\n      .catch(() => {\n        setBalance()\n      })\n  }, [bcdContract, account, blockNumber])\n\n  return balance\n}\n\nexport function useBCDTotalSupply() {\n  const { networkId } = useWeb3Context()\n  const blockNumber = useBlockNumber()\n  const bcdContract = useContract(BCD_ADDRESSES[networkId], BCD_ABI)\n  const [totalSupply, setTotalSupply] = useState()\n\n  useEffect(() => {\n    bcdContract.methods.totalSupply().call()\n      .then(result => {\n        setTotalSupply(new BigNumber(result))\n      })\n      .catch(() => {\n        setTotalSupply()\n      })\n  }, [bcdContract, blockNumber])\n\n  return totalSupply\n}\n","import { useEffect, useState, useCallback } from 'react'\nimport { useWeb3Context } from 'web3-react'\nimport BigNumber from 'bignumber.js'\nimport { useBlockNumber } from '../contexts/application'\nimport { useContract, useGasPrice } from './ethereum'\nimport { DAO_ADDRESSES, DAO_FROM_BLOCK } from '../constants'\nimport DAO_ABI from '../constants/abis/dao.json'\n\nexport function useDAOContract() {\n  const { networkId } = useWeb3Context()\n  return useContract(DAO_ADDRESSES[networkId], DAO_ABI)\n}\n\nexport function useDAOTotalDonation() {\n  const blockNumber = useBlockNumber()\n  const daoContract = useDAOContract()\n  const [totalDonation, setTotalDonation] = useState()\n\n  useEffect(() => {\n    daoContract.methods.totalDonation().call()\n      .then(result => {\n        setTotalDonation(new BigNumber(result))\n      })\n      .catch(() => {\n        setTotalDonation()\n      })\n  }, [daoContract, blockNumber])\n\n  return totalDonation\n}\n\nexport function useDAOMemberAmount() {\n  const blockNumber = useBlockNumber()\n  const daoContract = useDAOContract()\n  const [amount, setAmount] = useState()\n\n  useEffect(() => {\n    daoContract.getPastEvents('Donated', {\n      fromBlock: DAO_FROM_BLOCK\n    })\n      .then(events => {\n        return events\n          .map(event => event.returnValues.donator)\n          .filter((address, i, arr) => arr.indexOf(address) === i)\n          .length\n      })\n      .then(result => {\n        setAmount(new BigNumber(result))\n      })\n      .catch(() => {\n        setAmount()\n      })\n  }, [daoContract, blockNumber])\n\n  return amount\n}\n\nexport function useDAOProposals() {\n  const blockNumber = useBlockNumber()\n  const daoContract = useDAOContract()\n  const [proposals, setProposals] = useState([])\n\n  useEffect(() => {\n    daoContract.methods.numProposals().call()\n      .then(numProposals => {\n        return Promise.all([\n          ...Array(numProposals.toNumber()).fill(0).map((_, i) => {\n            return daoContract.methods.proposals(i).call()\n          })\n        ])\n      })\n      .then(proposals => {\n        return proposals.map((proposal, i) => ({\n          id: i,\n          recipient: proposal.recipient,\n          location: proposal.location,\n          description: proposal.description,\n          startTime: new BigNumber(proposal.startTime).toNumber(),\n          isPassed: proposal.proposalPassed\n        }))\n      })\n      .then(result => {\n        setProposals(result)\n      })\n      .catch(() => {\n        setProposals([])\n      })\n  }, [daoContract, blockNumber])\n\n  return proposals\n}\n\nexport function useDAOProposalVotes(id) {\n  const blockNumber = useBlockNumber()\n  const daoContract = useDAOContract()\n  const [votes, setVotes] = useState()\n\n  useEffect(() => {\n    if (id) {\n      daoContract.methods.proposalVotes(id).call()\n        .then(result => {\n          setVotes(new BigNumber(result))\n        })\n        .catch(() => {\n          setVotes()\n        })\n    }\n  }, [daoContract, id, blockNumber])\n  \n  return votes\n}\n\nexport function useDAOIsOpenVote() {\n  const blockNumber = useBlockNumber()\n  const daoContract = useDAOContract()\n  const [isOpen, setIsOpen] = useState(false)\n\n  useEffect(() => {\n    daoContract.methods.isOpenVote().call()\n      .then(result => {\n        setIsOpen(result)\n      })\n      .catch(() => {\n        setIsOpen(false)\n      })\n  }, [daoContract, blockNumber])\n\n  return isOpen\n}\n\nexport function useDAOStartVoteTime() {\n  const blockNumber = useBlockNumber()\n  const daoContract = useDAOContract()\n  const [startVoteTime, setStartVoteTime] = useState()\n\n  useEffect(() => {\n    daoContract.methods.startVoteTime().call()\n      .then(result => {\n        setStartVoteTime(new BigNumber(result))\n      })\n      .catch(() => {\n        setStartVoteTime()\n      })\n  }, [daoContract, blockNumber])\n\n  return startVoteTime\n}\n\nexport function useDAODonate() {\n  const { account } = useWeb3Context()\n  const { getPrice } = useGasPrice()\n  const daoContract = useDAOContract()\n\n  return useCallback(async (name, value) => {\n    const donate = daoContract.methods.donate(name)\n    const estimatedGas = await donate.estimateGas({ value })\n    const gas = new BigNumber(estimatedGas).times(1.5).toFixed(0)\n    const gasPrice = await getPrice()\n\n    return donate.send({\n      from: account,\n      value,\n      gas,\n      gasPrice,\n    })\n  }, [daoContract, account, getPrice])\n}\n\nexport function useDAOLauchActivity() {\n  const { account } = useWeb3Context()\n  const { getPrice } = useGasPrice()\n  const daoContract = useDAOContract()\n\n  return useCallback(async (startTime, endTime, location, description) => {\n    const lauchActivity = daoContract.methods.newProposal(startTime, endTime, location, description)\n    const estimatedGas = await lauchActivity.estimateGas()\n    const gas = new BigNumber(estimatedGas).times(1.5).toFixed(0)\n    const gasPrice = await getPrice()\n\n    return lauchActivity.send({\n      from: account,\n      gas,\n      gasPrice\n    })\n  }, [daoContract, account, getPrice])\n}\n\nexport function useDAOVote() {\n  const { account } = useWeb3Context()\n  const { getPrice } = useGasPrice()\n  const daoContract = useDAOContract()\n\n  return useCallback(async (proposalId) => {\n    const vote = daoContract.methods.vote(proposalId)\n    const estimatedGas = await vote.estimateGas()\n    const gas = new BigNumber(estimatedGas).times(1.5).toFixed(0)\n    const gasPrice = await getPrice()\n\n    return vote.send({\n      from: account,\n      gas,\n      gasPrice\n    })\n  }, [daoContract, account, getPrice])\n}\n","import React, { useState, useEffect } from 'react'\nimport { useWeb3Context, Connectors } from 'web3-react'\nimport { ethers } from 'ethers'\nimport styled from 'styled-components'\nimport { shortenAddress } from '../utils'\n\nconst { Connector } = Connectors\n\nconst AddressWrapper = styled.div`\n  width: 8rem;\n  height: 2.5rem;\n  border: 2px solid ${({ theme }) => theme.navyBlue};\n  border-radius: 1.25rem;\n  background-color: ${({ theme }) => theme.hawkesBlue};\n  color: ${({ theme }) => theme.navyBlue};\n  font-size: 1rem;\n  font-weight: 400;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n\nconst ConnectButton = styled.button`\n  width: 8rem;\n  height: 2.5rem;\n  border: none;\n  border-radius: 1.25rem;\n  background-color: ${({ theme }) => theme.navyBlue};\n  color: ${({ theme }) => theme.white};\n  font-size: 1rem;\n  font-weight: 400;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n`\n\nexport default function Web3Status() {\n  const { account, connectorName, setConnector } = useWeb3Context()\n\n  const [error, setError] = useState()\n\n  // logic to detect log{ins,outs}...\n  useEffect(() => {\n    const { ethereum } = window\n    if (connectorName === 'Injected') {\n      // ...poll to check the accounts array, and if it's ever 0 i.e. the user logged out, update the connector\n      if (ethereum) {\n        const accountPoll = setInterval(() => {\n          const library = new ethers.providers.Web3Provider(ethereum)\n          library.listAccounts().then(accounts => {\n            if (accounts.length === 0) {\n              setConnector('Network')\n            }\n          })\n        }, 750)\n\n        return () => {\n          clearInterval(accountPoll)\n        }\n      }\n    } else {\n      if (\n        connectorName === 'Network' &&\n        ethereum &&\n        ethereum.on &&\n        ethereum.removeListener\n      ) {\n        function tryToActivateInjected() {\n          const library = new ethers.providers.Web3Provider(window.ethereum)\n          library.listAccounts().then(accounts => {\n            if (accounts.length >= 1) {\n              setConnector('Injected', { suppressAndThrowErrors: true })\n                .then(() => {\n                  setError()\n                })\n                .catch(error => {\n                  // ...and if the error is that they're on the wrong network, display it, otherwise eat it\n                  if (error.code === Connector.errorCodes.UNSUPPORTED_NETWORK) {\n                    setError(error)\n                  }\n                })\n            }\n          })\n        }\n\n        ethereum.on('networkChanged', tryToActivateInjected)\n        ethereum.on('accountsChanged', tryToActivateInjected)\n\n        return () => {\n          if (ethereum.removeListener) {\n            ethereum.removeListener('networkChanged', tryToActivateInjected)\n            ethereum.removeListener('accountsChanged', tryToActivateInjected)\n          }\n        }\n      }\n    }\n  })\n\n  const onClick = () => {\n    if (connectorName === 'Network' && (window.ethereum || window.web3)) {\n      setConnector('Injected', { suppressAndThrowErrors: true }).catch(err => {\n        if (err.code === Connector.errorCodes.UNSUPPORTED_NETWORK) {\n          setError(err)\n        }\n      })\n    }\n  }\n\n  if (error) {\n    return <div>Wrong Network</div>\n  } else if (!account) {\n    return <ConnectButton onClick={onClick}>連線到錢包</ConnectButton>\n  } else {\n    return <AddressWrapper>{shortenAddress(account)}</AddressWrapper>\n  }\n}\n","import React, { useState } from 'react'\nimport { useWeb3Context } from 'web3-react'\nimport BigNumber from 'bignumber.js'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Modal from '@material-ui/core/Modal'\nimport Button from '@material-ui/core/Button'\nimport styled from 'styled-components'\nimport TextField from '@material-ui/core/TextField'\nimport DateFnsUtils from '@date-io/date-fns'\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDateTimePicker,\n} from '@material-ui/pickers'\nimport { useDAOLauchActivity } from '../hooks/dao'\n\nconst Title = styled.div`\n  margin-bottom: 20px;\n  font-size: 24px;\n  font-weight: bold;\n`\n\nfunction getModalStyle() {\n  const top = 20\n  const left = 50\n\n  return {\n    top: `${top}%`,\n    left: `calc(${left}% - 235px)`,\n  }\n}\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    position: 'absolute',\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    boxShadow: theme.shadows[5],\n    padding: '25px 40px 30px',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n}))\n\nconst buttonStyle = {\n  marginTop: '20px',\n  width: '150px',\n  marginLeft: 'auto',\n  marginRight: 'auto',\n  height: '50px',\n}\n\nexport default function LauchActivityModal(props) {\n  const { open, handleClose } = props\n  const { account } = useWeb3Context()\n  const classes = useStyles()\n  const [modalStyle] = useState(getModalStyle)\n\n  const [location, setLocation] = useState('')\n  const [description, setDescription] = useState('')\n  const [startTime, setStartTime] = useState(new Date())\n  const [endTime, setEndTime] = useState(new Date())\n\n  const lauchActivity = useDAOLauchActivity()\n\n  const isConnected = !!account\n\n  const onClick = () => {\n    if (location && description && startTime && endTime && isConnected) {\n      const startTimeParsed = new BigNumber(Date.parse(startTime) / 1000).toFixed(0)\n      const endTimeParsed = new BigNumber(Date.parse(endTime) / 1000).toFixed(0)\n\n      lauchActivity(startTimeParsed, endTimeParsed, location, description)\n      handleClose()\n    }\n  }\n\n  return (\n    <Modal open={open} onClose={handleClose}>\n      <form style={modalStyle} className={classes.paper}>\n        <Title>新增活動</Title>\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\n          <KeyboardDateTimePicker\n            disableToolbar\n            variant='outlined'\n            margin='normal'\n            id='date-picker-inline'\n            label='活動開始時間'\n            value={startTime}\n            onChange={(date) => { setStartTime(date)}}\n          />\n          <KeyboardDateTimePicker\n            disableToolbar\n            variant='outlined'\n            margin='normal'\n            id='date-picker-inline'\n            label='活動結束時間'\n            value={endTime}\n            onChange={(date) => { setEndTime(date)}}\n          />\n        </MuiPickersUtilsProvider>\n        <TextField\n          id='outlined-location'\n          label='地點'\n          className={classes.textField}\n          value={location}\n          onChange={(event) => { setLocation(event.target.value) }}\n          style={{ margin: '20px' }}\n          variant='outlined'\n        />\n        <TextField\n          id='outlined-description'\n          label='描述'\n          className={classes.textField}\n          value={description}\n          onChange={(event) => { setDescription(event.target.value) }}\n          style={{ margin: '20px' }}\n          variant='outlined'\n        />\n        <Button\n          style={buttonStyle}\n          variant='contained'\n          color='primary'\n          onClick={onClick}\n          disabled={!isConnected}\n        >\n          新增\n        </Button>\n      </form>\n    </Modal>\n  )\n}","import React, { useState } from 'react'\nimport { useWeb3Context } from 'web3-react'\nimport BigNumber from 'bignumber.js'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Modal from '@material-ui/core/Modal'\nimport Button from '@material-ui/core/Button'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport styled from 'styled-components'\nimport TextField from '@material-ui/core/TextField'\nimport { useDAODonate } from '../hooks/dao'\n\nconst Title = styled.div`\n  margin-bottom: 20px;\n  font-size: 24px;\n  font-weight: bold;\n`\n\nfunction getModalStyle() {\n  const top = 20\n  const left = 50\n\n  return {\n    top: `${top}%`,\n    left: `calc(${left}% - 235px)`,\n  }\n}\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    position: 'absolute',\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    boxShadow: theme.shadows[5],\n    padding: '25px 40px 30px',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n}))\n\nconst buttonStyle = {\n  marginTop: '20px',\n  width: '150px',\n  marginLeft: 'auto',\n  marginRight: 'auto',\n  height: '50px',\n}\n\nexport default function DonationModal(props) {\n  const { open, handleClose } = props\n  const { account } = useWeb3Context()\n  const classes = useStyles()\n  const [modalStyle] = useState(getModalStyle)\n  const [amount, setAmount] = useState('')\n  const [name, setName] = useState('')\n\n  const isConnected = !!account\n  const donate = useDAODonate()\n\n  const onClick = () => {\n    if (name && amount && isConnected) {\n      const value = new BigNumber(amount).times(1e+18).toFixed(0)\n      donate(name, value)\n      handleClose()\n    }\n  }\n\n  return (\n    <Modal open={open} onClose={handleClose}>\n      <form\n        style={modalStyle}\n        className={classes.paper}\n      >\n        <Title>捐款</Title>\n        <TextField\n          id='name'\n          label='你的名字'\n          className={classes.textField}\n          style={{ margin: '20px' }}\n          variant='outlined'\n          value={name}\n          onChange={event => { setName(event.target.value) }}\n        />\n        <TextField\n          id='amount'\n          label='金額'\n          className={classes.textField}\n          style={{ margin: '20px' }}\n          variant='outlined'\n          value={amount}\n          onChange={event => { setAmount(event.target.value) }}\n          InputProps={{\n            endAdornment: <InputAdornment position=\"end\">ETH</InputAdornment>,\n          }}\n        />\n        <Button\n          type='submit'\n          style={buttonStyle}\n          variant='contained'\n          color='primary'\n          onClick={onClick}\n          disabled={!isConnected}\n        >\n          捐款\n        </Button>\n      </form>\n    </Modal>\n  )\n}","import React, { useState } from 'react'\nimport styled from 'styled-components'\nimport Web3Status from './Web3Status'\nimport LauchActivityModal from './LauchActivityModal'\nimport DonationModal from './DonationModal'\n\nconst HeaderWrapper = styled.div`\n  width: 100%;\n  height: 4.5rem;\n  padding: 0 1.5rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`\n\nconst HeaderLogo = styled.div`\n  font-size: 1.5rem;\n  font-weight: 500;\n  color: ${({ theme }) => theme.navyBlue};\n  letter-spacing: 1px;\n`\n\nconst HeaderActions = styled.div`\n  display: flex;\n  align-items: center;\n\n  > *:not(:first-child) {\n    margin-left: 2.5rem;\n  }\n`\n\nconst HeaderButton = styled.button`\n  border: none;\n  outline: none;\n  font-size: 1rem;\n  font-weight: 400;\n  color: ${({ theme }) => theme.navyBlue};\n  background-color: transparent;\n  cursor: pointer;\n  \n  &:focus {\n    outline: none;\n  }\n`\n\nexport default function Header() {\n  const [openLauchModal, setOpenLauchModal] = useState(false)\n  const [openDonateModal, setOpenDonateModal] = useState(false)\n\n  return (\n    <HeaderWrapper>\n      <HeaderLogo>BeachDAO</HeaderLogo>\n      <HeaderActions>\n        <HeaderButton onClick={() => { setOpenLauchModal(true) }}>發起淨灘</HeaderButton>\n        <HeaderButton onClick={() => { setOpenDonateModal(true) }}>捐款</HeaderButton>\n        <Web3Status />\n      </HeaderActions>\n      <LauchActivityModal\n        open={openLauchModal}\n        handleClose={() => { setOpenLauchModal(false) }}\n      />\n      <DonationModal\n        open={openDonateModal}\n        handleClose={() => { setOpenDonateModal(false) }}\n      />\n    </HeaderWrapper>\n  )\n}\n","import { useEffect, useState, useCallback } from 'react'\nimport { useWeb3Context } from 'web3-react'\nimport BigNumber from 'bignumber.js'\nimport { useBlockNumber } from '../contexts/application'\nimport { useContract, useGasPrice } from './ethereum'\nimport ACTIVITY_ABI from '../constants/abis/activity.json'\n\nexport function useActivityContract(address) {\n  return useContract(address, ACTIVITY_ABI)\n}\n\nexport function useActivityParticipientAmount(address) {\n  const blockNumber = useBlockNumber()\n  const activityContract = useActivityContract(address)\n  const [amount, setAmount] = useState()\n  console.log(address)\n\n  useEffect(() => {\n    if (activityContract) {\n      activityContract.getPastEvents('Joint')\n        .then(events => {\n          return events\n            .map(event => event.returnValues.participient)\n            .filter((participient, i, arr) => arr.indexOf(participient) === i)\n            .length\n        })\n        .then(result => {\n          setAmount(new BigNumber(result))\n        })\n        .catch(() => {\n          setAmount()\n        })\n    }\n  }, [activityContract, blockNumber])\n\n  return amount\n}\n\nexport function useActivityIsConfirmed(address) {\n  const blockNumber = useBlockNumber()\n  const activityContract = useActivityContract(address)\n  const [isConfirmed, setIsConfirmed] = useState(false)\n\n  useEffect(() => {\n    activityContract.methods.confirmed().call()\n      .then(result => {\n        setIsConfirmed(result)\n      })\n      .catch(() => {\n        setIsConfirmed()\n      })\n  }, [activityContract, blockNumber])\n\n  return isConfirmed\n}\n\nexport function useActivityJoin(address) {\n  const { account } = useWeb3Context()\n  const { getPrice } = useGasPrice()\n  const activityContract = useActivityContract(address)\n\n  return useCallback(async (name) => {\n    if (address) {\n      const join = activityContract.methods.join(name)\n      const estimatedGas = await join.estimateGas()\n      const gas = new BigNumber(estimatedGas).times(1.5).toFixed(0)\n      const gasPrice = await getPrice()\n  \n      return join.send({\n        from: account,\n        gas,\n        gasPrice,\n      })\n    }\n  }, [address, activityContract, account, getPrice])\n}\n\nexport function useActivityReward(address) {\n  const { account } = useWeb3Context()\n  const { getPrice } = useGasPrice()\n  const activityContract = useActivityContract(address)\n\n  return useCallback(async () => {\n    const reward = activityContract.methods.getRewards()\n    const estimatedGas = await reward.estimateGas()\n    const gas = new BigNumber(estimatedGas).times(1.5).toFixed(0)\n    const gasPrice = await getPrice()\n\n    return reward.send({\n      from: account,\n      gas,\n      gasPrice,\n    })\n  }, [activityContract, account, getPrice])\n}\n","import React, { useCallback, useState } from 'react'\nimport { useWeb3Context } from 'web3-react'\nimport styled from 'styled-components'\nimport moment from 'moment'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Button from '@material-ui/core/Button'\nimport { useDAOIsOpenVote, useDAOProposalVotes, useDAOVote } from '../hooks/dao'\nimport {\n  useActivityJoin,\n  useActivityReward,\n} from '../hooks/activity'\nimport { ACTIVITY_DEMO_ADDRESSES } from '../constants'\n\nconst Activity = styled.div`\n  flex-direction: column\n  background-color: #FFFFFF\n  display: flex\n  box-shadow: 0 2px 6px #b5b5b5\n  border-radius: 8px\n  box-sizing: border-box\n  margin: 20px 0\n`\n\nconst Title = styled.div`\n  padding: 10px\n  font-weight: 600;\n  background-color: rgb(238, 237, 244)\n`\n\nconst Body = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 20px;\n`\n\nconst Description = styled.div``\nconst Location = styled.div``\nconst StartDateTimeBox = styled.div``\n\nconst Participants = styled.div`\n  display: flex;\n  flex-direction: column;\n  \n  > *:not(:first-child) {\n    margin-top: 1rem;\n  }\n`\n\nconst Count = styled.div`\n  text-align:center\n  font-size:24px\n  `\nconst Voters = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  > *:not(:first-child) {\n    margin-top: 1rem;\n  }\n`\nconst IsPassed = styled.div`\n  margin-top: 1rem;\n`\n\nconst LeftBox = styled.div`\n  display: flex;\n  \n  > *:not(:first-child) {\n    margin-left: 2rem;\n  }\n`\nconst RightBox = styled.div`\n  width: 300px;\n`\nconst useStyles = makeStyles({\n  button: {\n    background: '#2377E3',\n    border: 0,\n    borderRadius: 20,\n    boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)',\n    color: 'white',\n    height: 40,\n  },\n});\n\n\nexport default function ActivityItem(props) {\n  const classes = useStyles()\n\n  const { account, networkId } = useWeb3Context()\n  const isConnected = !!account\n\n  const isOpenVote = useDAOIsOpenVote()\n\n  const votes = useDAOProposalVotes(props.id)\n  const [participientAmount, setParticipientAmount] = useState(1)\n\n  const startTime = moment(props.startTime * 1000).format(\n    'YYYY/MM/DD A hh:mm',\n  )\n\n  const vote = useDAOVote()\n  const handleVote = useCallback(() => {\n    vote(props.id)\n  }, [vote, props.id])\n\n  const join = useActivityJoin(props.recipient)\n  const handleJoin = useCallback(() => {\n    join('')\n    setParticipientAmount(participientAmount + 1)\n  }, [join, participientAmount])\n\n  const reward = useActivityReward(ACTIVITY_DEMO_ADDRESSES[networkId])\n  const handleReward = useCallback(() => {\n    reward()\n  }, [reward])\n  \n  return (\n    <Activity>\n      <Title>淨灘活動</Title>\n      <Body>\n        <LeftBox>\n          <Participants>\n            <Count>{participientAmount ? participientAmount : 0} 人</Count>\n            {!props.isPassed && (\n              <Button\n                className={classes.button}\n                disabled={!isConnected}\n                onClick={handleJoin}\n              >\n                報名\n              </Button>\n            )}\n          </Participants>\n          <Voters>\n            <Count>\n            {\n              props.isPassed ? 3 : votes ? votes.toNumber() : 0\n            } 票</Count>\n            {!props.isPassed && (\n              <Button\n                className={classes.button}\n                disabled={!isConnected || !isOpenVote}\n                onClick={handleVote}\n              >\n                投票\n              </Button>\n            )}\n          </Voters>\n        </LeftBox>\n        <RightBox>\n          <Description>{'活動說明: ' + props.description}</Description>\n          <Location>{'活動地點: ' + props.location}</Location>\n          <StartDateTimeBox>{'活動時間: ' + startTime}</StartDateTimeBox>\n\n          {props.isPassed && (\n            <IsPassed>\n              {\n                ('活動結束',\n                props.isRewarded ? (\n                  '已領取'\n                ) : (\n                  <Button\n                    className={classes.button}\n                    disabled={!isConnected}\n                    onClick={handleReward}\n                  >\n                    領取\n                  </Button>\n                ))\n              }\n            </IsPassed>\n          )}\n        </RightBox>\n      </Body>\n    </Activity>\n  )\n}\n","import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport Typography from '@material-ui/core/Typography'\nimport Box from '@material-ui/core/Box'\nimport ActivityItem from './ActivityItem'\nimport { useDAOProposals } from '../hooks/dao'\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props\n\n  return (\n    <Typography\n      component='div'\n      role='tabpanel'\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      <Box p={3}>{children}</Box>\n    </Typography>\n  )\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n}\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  }\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: 'transparent',\n  },\n}))\n\nexport default function SimpleTabs() {\n  const classes = useStyles()\n  const [value, setValue] = useState(0)\n\n  const proposals = useDAOProposals()\n  const handleChange = (event, newValue) => {\n    setValue(newValue)\n  }\n  \n  const passedProposals = [\n    {\n      id: '3',\n      name: '淨灘活動',\n      description: '撿垃圾',\n      location: '宜蘭',\n      startTime: 1571534862,\n      isPassed: true,\n    }\n  ]\n\n  return (\n    <div className={classes.root}>\n      <Tabs\n        value={value}\n        onChange={handleChange}\n        indicatorColor='primary'\n        textColor='primary'\n        aria-label='simple tabs example'\n        centered\n      >\n        <Tab label='所有活動' {...a11yProps(0)} />\n        <Tab label='已參加活動' {...a11yProps(1)} />\n      </Tabs>\n      <TabPanel value={value} index={0}>\n        {!!proposals.length && proposals.map(activity => (\n          <ActivityItem key={activity.id} {...activity} />\n        ))}\n      </TabPanel>\n      <TabPanel value={value} index={1}>\n        {passedProposals.map(activity => (\n          <ActivityItem key={activity.id} {...activity} />\n        ))}\n      </TabPanel>\n    </div>\n  )\n}\n","import React, { useMemo } from 'react'\nimport styled from 'styled-components'\nimport { useBCDBalance, useBCDTotalSupply } from '../hooks/ethereum'\nimport {\n  useDAOTotalDonation,\n  useDAOMemberAmount,\n  useDAOIsOpenVote,\n  useDAOStartVoteTime\n} from '../hooks/dao'\nimport { amountFormatter } from '../utils'\nimport Header from '../components/Header'\nimport ActivityContainer from '../components/ActivityContainer'\n\nconst AppWrapper = styled.div`\n  width: 100vw;\n  height: 100vh;\n`\n\nconst Container = styled.div`\n  width: 90%;\n  max-width: 42.5rem;\n  margin: 0 auto;\n`\n\nconst Row = styled.div`\n  margin-top: 2.5rem;\n  display: flex;\n\n  > *:not(:first-child) {\n    margin-left: 2.5rem\n  }\n`\n\nconst Widget = styled.div`\n  width: 20rem;\n  padding: 1rem 1.25rem;\n  border-radius: 0.5rem;\n  background-color: ${({ theme }) => theme.white};\n  box-shadow: 0 2px 48px ${({ theme }) => theme.shadowColor};\n  display: flex;\n\n  > *:not(:first-child) {\n    margin-left: 0.75rem;\n  }\n\n  > *:last-child {\n    flex: 1;\n  }\n`\n\nconst WidgetData = styled.div`\n  flex: 1;\n  width: 100%;\n  font-size: 2.25rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n\nconst WidgetTitle = styled.div`\n  margin-bottom: 0.75rem;\n  font-size: 1rem;\n  font-weight: 600;\n`\n\nconst WidgetSubTitle = styled.div`\n  font-size: 0.875rem;\n  font-weight: 400;\n  color: rgba(0,0,0,0.6);\n`\n\nconst TimeWrapper = styled.div`\n  margin-top: 2.5rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  \n  > *:not(:first-child) {\n    margin-top: 0.75rem;\n  }\n`\n\nconst TimeText = styled.div`\n  font-size: 1rem;\n  font-weight: 400;\n`\n\nconst TimeHeadline = styled.div`\n  font-size: 1.5rem;\n  font-weight: 500;\n`\n\nexport default function Home() {\n  const BCDBalance = useBCDBalance()\n  const BCDTotalSupply = useBCDTotalSupply()\n  const totalDonation = useDAOTotalDonation()\n  const memberAmount = useDAOMemberAmount()\n  const isOpenVote = useDAOIsOpenVote()\n  const startVoteTime = useDAOStartVoteTime()\n\n  const leftTime = useMemo(() => {\n    if (startVoteTime) {\n      return startVoteTime.plus(864000).minus(Date.now() / 1000)\n    } else {\n      return null\n    }\n  }, [startVoteTime])\n\n  const leftDays = useMemo(() => {\n    if (leftTime) {\n      return Math.floor(leftTime.div(86400).toNumber())\n    } else {\n      return null\n    }\n  }, [leftTime])\n\n  const leftHours = useMemo(() => {\n    if (leftTime && leftDays) {\n      return Math.floor((leftTime.minus(leftDays * 86400)).div(3600).toNumber())\n    } else {\n      return null\n    }\n  }, [leftTime, leftDays])\n\n  const leftMinutes = useMemo(() => {\n    if (leftTime && leftDays && leftHours) {\n      return Math.floor(\n        (leftTime.minus(leftDays * 86400).minus(leftHours * 3600)).div(60).toNumber()\n      )\n    } else {\n      return null\n    }\n  }, [leftTime, leftDays, leftHours])\n\n  const leftSeconds = useMemo(() => {\n    if (leftTime && leftDays && leftHours && leftMinutes) {\n      return Math.floor(\n        (leftTime.minus(leftDays * 86400).minus(leftHours * 3600).minus(leftMinutes * 60)).toNumber()\n      )\n    }\n  }, [leftTime, leftDays, leftHours, leftMinutes])\n\n  // const proposals = useDAOProposals()\n\n  return (\n    <AppWrapper>\n      <Header />\n      <Container>\n        <Row>\n          <Widget>\n            <div>\n              <WidgetTitle>累積捐款資金 (ETH)</WidgetTitle>\n              <WidgetSubTitle>當資金到達 10 ETH 以上時，即開始進行投票來決定要資助淨攤活動</WidgetSubTitle>\n            </div>\n            <WidgetData>{totalDonation ? amountFormatter(totalDonation, 18, 2) : '-'}</WidgetData>\n          </Widget>\n          <Widget>\n            <div>\n              <WidgetTitle>個人餘額 (BCD)</WidgetTitle>\n              <WidgetSubTitle>參加淨灘活動，保護海灘健康，就可以獲得海灘貨幣</WidgetSubTitle>\n            </div>\n            <WidgetData>{BCDBalance ? amountFormatter(BCDBalance, 18, 2) : '-'}</WidgetData>\n          </Widget>\n        </Row>\n        <Row>\n          <Widget>\n            <div>\n              <WidgetTitle>捐款人數</WidgetTitle>\n              <WidgetData>{memberAmount ? memberAmount.toString() : '-'}</WidgetData>\n            </div>\n          </Widget>\n          <Widget>\n            <div>\n              <WidgetTitle>海灘貨幣發行量 (BCD)</WidgetTitle>\n              <WidgetData>{BCDTotalSupply ? amountFormatter(BCDTotalSupply, 18) : '-'}</WidgetData>\n            </div>\n          </Widget>\n        </Row>\n        {\n          isOpenVote && (\n            <TimeWrapper>\n              <TimeText>距離投票截止時間還剩下</TimeText>\n              <TimeHeadline>{leftDays} 天 {leftHours} 時 {leftMinutes} 分 {leftSeconds} 秒</TimeHeadline>\n            </TimeWrapper>\n          )\n        }\n        <Row>\n          <ActivityContainer />\n        </Row>\n      </Container>\n    </AppWrapper>\n  )\n}\n","import Web3 from 'web3'\nimport { Connectors } from 'web3-react'\n\nconst { Connector } = Connectors\n\nexport default class NetworkOnlyConnector extends Connector {\n  constructor(kwargs) {\n    const { providerURL, ...rest } = kwargs || {}\n    super(rest)\n    this.providerURL = providerURL\n  }\n\n  async onActivation() {\n    if (!this.engine) {\n      const web3 = new Web3(this.providerURL)\n      this.engine = web3\n    }\n  }\n\n  async getNetworkId(provider) {\n    const web3 = new Web3(provider)\n    const networkId = await web3.eth.net.getId()\n    return super._validateNetworkId(networkId)\n  }\n\n  async getProvider() {\n    return this.engine.currentProvider\n  }\n\n  async getAccount() {\n    return null\n  }\n}\n","import { Connectors } from 'web3-react'\nconst { Connector, ErrorCodeMixin } = Connectors\n\nconst InjectedConnectorErrorCodes = [\n  'ETHEREUM_ACCESS_DENIED',\n  'NO_WEB3',\n  'UNLOCK_REQUIRED',\n]\nexport default class InjectedConnector extends ErrorCodeMixin(\n  Connector,\n  InjectedConnectorErrorCodes,\n) {\n  constructor(args = {}) {\n    super(args)\n    this.runOnDeactivation = []\n\n    this.networkChangedHandler = this.networkChangedHandler.bind(this)\n    this.accountsChangedHandler = this.accountsChangedHandler.bind(this)\n\n    const { ethereum } = window\n    if (ethereum && ethereum.isMetaMask) {\n      ethereum.autoRefreshOnNetworkChange = false\n    }\n  }\n\n  async onActivation() {\n    const { ethereum, web3 } = window\n\n    if (ethereum) {\n      await ethereum.enable().catch(error => {\n        const deniedAccessError = Error(error)\n        deniedAccessError.code =\n          InjectedConnector.errorCodes.ETHEREUM_ACCESS_DENIED\n        throw deniedAccessError\n      })\n\n      // initialize event listeners\n      if (ethereum.on) {\n        ethereum.on('networkChanged', this.networkChangedHandler)\n        ethereum.on('accountsChanged', this.accountsChangedHandler)\n\n        this.runOnDeactivation.push(() => {\n          if (ethereum.removeListener) {\n            ethereum.removeListener(\n              'networkChanged',\n              this.networkChangedHandler,\n            )\n            ethereum.removeListener(\n              'accountsChanged',\n              this.accountsChangedHandler,\n            )\n          }\n        })\n      }\n    } else if (web3) {\n      console.warn(\n        'Your web3 provider is outdated, please upgrade to a modern provider.',\n      )\n    } else {\n      const noWeb3Error = Error(\n        'Your browser is not equipped with web3 capabilities.',\n      )\n      noWeb3Error.code = InjectedConnector.errorCodes.NO_WEB3\n      throw noWeb3Error\n    }\n  }\n\n  async getProvider() {\n    const { ethereum, web3 } = window\n    return ethereum || web3.currentProvider\n  }\n\n  async getAccount(provider) {\n    const account = await super.getAccount(provider)\n\n    if (account === null) {\n      const unlockRequiredError = Error('Ethereum account locked.')\n      unlockRequiredError.code = InjectedConnector.errorCodes.UNLOCK_REQUIRED\n      throw unlockRequiredError\n    }\n\n    return account\n  }\n\n  onDeactivation() {\n    this.runOnDeactivation.forEach(runner => runner())\n    this.runOnDeactivation = []\n  }\n\n  // event handlers\n  networkChangedHandler(networkId) {\n    const networkIdNumber = Number(networkId)\n\n    try {\n      super._validateNetworkId(networkIdNumber)\n\n      super._web3ReactUpdateHandler({\n        updateNetworkId: true,\n        networkId: networkIdNumber,\n      })\n    } catch (error) {\n      super._web3ReactErrorHandler(error)\n    }\n  }\n\n  accountsChangedHandler(accounts) {\n    if (!accounts[0]) {\n      const unlockRequiredError = Error('Ethereum account locked.')\n      unlockRequiredError.code = InjectedConnector.errorCodes.UNLOCK_REQUIRED\n      super._web3ReactErrorHandler(unlockRequiredError)\n    } else {\n      super._web3ReactUpdateHandler({\n        updateAccount: true,\n        account: accounts[0],\n      })\n    }\n  }\n}\n","import { createGlobalStyle } from 'styled-components'\n\nexport const GlobalStyle = createGlobalStyle`\n  * {\n    box-sizing: border-box;\n  }\n\n  html, body {\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;    \n  }\n\n  body > div {\n    height: 100%;\n    overflow: scroll;\n    -webkit-overflow-scrolling: touch;\n  }\n\n  html {\n    font-size: 16px;\n    font-family: 'Roboto', sans-serif;\n    font-variant: none;\n    color: ${({ theme }) => theme.textColor};\n    background-color: ${({ theme }) => theme.backgroundColor};\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  }\n\n  input[type=\"number\"]::-webkit-outer-spin-button,\n  input[type=\"number\"]::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n\n  input[type=\"number\"] {\n    -moz-appearance: textfield;\n  }\n`\n","import React from 'react'\nimport { ThemeProvider as StyledComponentsThemeProvider } from 'styled-components'\n\nexport { GlobalStyle } from './GlobalStyle'\n\nconst black = '#000000'\nconst white = '#FFFFFF'\n\nconst theme = {\n  black,\n  white,\n  textColor: 'rgba(0, 0, 0, 0.78)',\n  backgroundColor: '#FDFFF5',\n  shadowColor: 'rgba(0, 0, 0, 0.1)',\n  navyBlue: '#2377E3',\n  hawkesBlue: '#DBE9FF'\n}\n\nexport default function ThemeProvider({ children }) {\n  return (\n    <StyledComponentsThemeProvider theme={theme}>\n      {children}\n    </StyledComponentsThemeProvider>\n  )\n}\n","import React from 'react'\nimport Web3Provider from 'web3-react'\nimport Web3 from 'web3'\nimport ApplicationContextProvider, {\n  Updater as ApplicationContextUpdater,\n} from './contexts/application'\nimport TransactionContextProvider, {\n  Updater as TransactionContextUpdater,\n} from './contexts/transaction'\nimport Web3Manager from './components/Web3Manager'\nimport Home from './pages/Home'\nimport NetworkOnlyConnector from './connectors/NetworkOnlyConnector'\nimport InjectedConnector from './connectors/InjectedConnector'\nimport ThemeProvider, { GlobalStyle } from './themes'\n\nconst Network = new NetworkOnlyConnector({\n  providerURL: process.env.REACT_APP_NETWORK_URL || '',\n})\nconst Injected = new InjectedConnector({\n  supportedNetworks: [Number(process.env.REACT_APP_NETWORK_ID || '1')],\n})\nconst connectors = { Injected, Network }\n\nfunction ContextProviders({ children }) {\n  return (\n    <ApplicationContextProvider>\n      <TransactionContextProvider>{children}</TransactionContextProvider>\n    </ApplicationContextProvider>\n  )\n}\n\nfunction Updaters() {\n  return (\n    <>\n      <ApplicationContextUpdater />\n      <TransactionContextUpdater />\n    </>\n  )\n}\n\nfunction App() {\n  return (\n    <Web3Provider connectors={connectors} libraryName='web3.js' web3Api={Web3}>\n      <ContextProviders>\n        <Updaters />\n        <ThemeProvider>\n          <GlobalStyle />\n          <Web3Manager>\n            <Home />\n          </Web3Manager>\n        </ThemeProvider>\n      </ContextProviders>\n    </Web3Provider>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}